(function(){"use strict";var _=typeof self>"u"?window:self,f=globalThis.Mugine=globalThis.Mugine||{},u={};const h=u.namespace=function(e,t){var i=f;t==null&&(t={}),e=e.split(".");var n=i,o=e.length;return e.forEach(function(r,a){n[r]==null&&(o-1===a?n[r]=t:n[r]={}),n=n[r]}),t},m=u.exportName=function(e,t){var i=t.length,n,o,r;for(r=0;r<i;r+=2)n=t[r],o=t[r+1],e[n]=o};var v={}.hasOwnProperty;const g=u.extend=function(e,t){for(var i in t)v.call(t,i)&&(e[i]=t[i]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=e.__super__=t.prototype,e};var y=function(){throw new ReferenceError};u.definePropertyReadOnly=function(e,t){var i=t.length,n={},o,r,a;for(a=0;a<i;a+=2)o=t[a],r=t[a+1],n[o]={get:r,set:y,configurable:!0};Object.defineProperties(e,n)},u.definePropertyGetSet=function(e,t){var i=t.length,n={},o,r,a,c;for(c=0;c<i;c+=3)o=t[c],r=t[c+1],a=t[c+2],n[o]={get:r,set:a,configurable:!0};Object.defineProperties(e,n)},u.debounce=function(e,t,i){var n;return function(){var o=this,r=arguments,a=function(){n=null,i||e.apply(o,r)},c=i&&!n;clearTimeout(n),n=setTimeout(a,t),c&&e.apply(o,r)}},u.getWndSize=function(){var e=document.documentElement,t=e&&e.clientHeight===0;function i(){var r=document,a=r.createElement("div");a.style.height="2500px",r.body.insertBefore(a,r.body.firstChild);var c=r.documentElement.clientHeight>2400;return r.body.removeChild(a),c}var n=window.top===window;if(typeof document.clientWidth=="number")return{width:document.clientWidth,height:document.clientHeight};if(n&&(t||i())){var o=document.body;return{width:o.clientWidth,height:o.clientHeight}}else return{width:e.clientWidth,height:e.clientHeight}};var l={};u._jsonp=function(e,t,i){if(l[e])return l[e].push(i);l[e]=[i];var n=function(a,c){l[e].forEach(function(w){w(a,c)})},o=document.createElement("script");o.src=e,window[t]=function(a){n(null,a),r()},o.onload=function(){o.parentNode&&(n(!0),r())},o.onerror=function(){n(!0),r()};var r=function(){o.parentNode.removeChild(o),delete l[e]};document.body.appendChild(o)},_.MugineRequire=u.require=function(e){var t=f;return e.split("/").forEach(function(i){if(t=t[i],!t)return console.error("module not found: "+e)}),t},h("Utils.Module",u),m(u,["require",u.require,"namespace",u.namespace,"extend",u.extend,"definePropertyReadOnly",u.definePropertyReadOnly,"definePropertyGetSet",u.definePropertyGetSet]);var x=MugineRequire("Utils/Module"),T=MugineRequire("Text/TextField"),b=MugineRequire("Utils/Plugin"),s=function(){s.__super__.constructor.apply(this,arguments);var e=this;e._richContent=null,e._isRich=!1};g(s,T);var d=s.prototype;d.parseParamToDisplayObject=function(e,t){this._richContent=t.param.richContent,s.__super__.parseParamToDisplayObject.apply(this,arguments),this._isRich=!!t.param.richContent},d._updateDisplayObjectFromTransform=function(e){s.__super__._updateDisplayObjectFromTransform.apply(this,arguments)},s._createChildClass=function(e,t){var i=function(n){var o=this;this._resource=t,i.__super__.constructor.apply(this,arguments),n&&n.addChild(o)};return x.extend(i,s),i},d._getHtmlText=function(){return this._isRich?this._richContent:s.__super__._getHtmlText.apply(this,arguments)},d._setText=function(e,t){var i=this,n=i._aniData.param.richContent,o=document.createElement("div");o.innerHTML=n;var r=o.textContent||o.innerText||"";e!==r&&(delete i._aniData.param.richContent,i._isRich=!1),s.__super__._setText.apply(i,arguments)},h("Text.SlateText",s),b._registerDisplayObjectClass(2010,s);var C=MugineRequire("Utils/Module"),O=MugineRequire("Render/RenderObjectTextField"),R=MugineRequire("Utils/Plugin"),p=function(){p.__super__.constructor.apply(this,arguments)};C.extend(p,O),p.prototype,R._registerRenderObjectClass(2010,p)})();
